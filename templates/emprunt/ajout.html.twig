{% extends 'base.html.twig' %}


{% block title %}Réservation{% endblock %}

{% block body %}
<h3 class="text-center amber-text titlec mt-5">Réservation {{ app.user.lastname}} {{ app.user.firstname}}</h3>
<div class="container">
<div class="row">
<div class="col-12 p-5 ml-5 mt-3">
{{ form_start(Form) }}
   {{ form_row(Form.dateDebut, {'label': '', 'label_attr': {'class':"titlec"},   'attr': {'class':"datepicker"}}) }}
   {{ form_row(Form.dateFin, {'label': '', 'label_attr': {'class':"titlec"},   'attr': {'class':"datepicker"}}) }}
   {{ form_row(Form.Emprunteur, {'label': '', 'label_attr': {'class':"titlec"},   'attr': {'class':"datepicker"}}) }}
   {{ form_row(Form.affaire, {'label': '', 'label_attr': {'class':"titlec"},   'attr': {'class':"datepicker"}}) }}
   {{ form_row(Form.enregister, {'label': 'Enregister', 'label_attr': {'class':"black-text titlec  "},   'attr': {'class':"mt-2 btn waves-effect waves-orange text-uppercase "}}) }}
{{ form_end(Form) }}
</div>
</div>
</div>
<p id="disable" class="invisible">[
{% for emprunt in emprunt %}
            {% set dateMin = emprunt.dateDebut|date %}
            {% set dateMax = emprunt.dateFin|date %}
            {% set startDate = emprunt.dateFin|date   %}
{% set difference = date( emprunt.dateDebut|date() ).diff(date(startDate)) %}
{% set leftDays = difference.days %}
{% set j = 0 %}            
            {% for i in 0..leftDays %}
            {% set j = j +1 %}
            '{{ emprunt.dateDebut|date_modify('+' ~ i ~ ' day')|date("D M d Y") }}',
            {% endfor %}
            
         {% endfor %}]</p>
{% endblock %}
